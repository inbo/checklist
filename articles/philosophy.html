<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Philosophy of the checklist package • checklist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Philosophy of the checklist package">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">checklist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/philosophy.html">Philosophy of the checklist package</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started.html">Setting up checklist for a package</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started_project.html">Setting up checklist for a project</a></li>
    <li><a class="dropdown-item" href="../articles/organisation.html">Organisations</a></li>
    <li><a class="dropdown-item" href="../articles/spelling.html">Spell checking with checklist</a></li>
    <li><a class="dropdown-item" href="../articles/folder.html">Recommended folder structure</a></li>
    <li><a class="dropdown-item" href="../articles/path.html">File paths in code</a></li>
    <li><a class="dropdown-item" href="../articles/zenodo.html">Setting up the integration between GitHub, Zenodo and ORCID</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-contributing" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Contributing</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-contributing">
<li><a class="dropdown-item" href="../CONTRIBUTING.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../CODE_OF_CONDUCT.html">Code of conduct</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/inbo/checklist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Philosophy of the checklist package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/inbo/checklist/blob/main/vignettes/philosophy.Rmd" class="external-link"><code>vignettes/philosophy.Rmd</code></a></small>
      <div class="d-none name"><code>philosophy.Rmd</code></div>
    </div>

    
    
<p>Everybody develops its own coding habits and style. Some people take
a lot of effort in making their source code <a href="https://en.wikipedia.org/wiki/Computer_programming#Readability_of_source_code" class="external-link">readable</a>,
while others don’t bother at all. Working together with different people
is easier when everyone uses the same standard. The
<code>checklist</code> package defines a set of standards and provides
tools to validate whether your project or R package adheres to these
standards. You can run these tools interactively on your machine. You
can also add these checks as <a href="https://github.com/features/actions" class="external-link">GitHub actions</a>, which
runs them automatically after every <a href="https://github.com/git-guides/git-push" class="external-link">push</a> to the repository
on <a href="https://github.com" class="external-link">GitHub</a>.</p>
<div class="section level2">
<h2 id="coding-style">Coding style<a class="anchor" aria-label="anchor" href="#coding-style"></a>
</h2>
<p>The most visible part of a coding style is the naming convention.
People use many different styles of naming conventions within the R
ecosystem <span class="citation">(Bååth 2012)</span>. Popular ones are
<code>alllowercase</code>, <code>period.separated</code>,
<code>underscore_separated</code>, <code>lowerCamelCase</code> and
<code>UpperCamelCase</code>. We picked <code>underscore_separated</code>
because that is the naming convention of the <a href="https://www.tidyverse.org" class="external-link"><code>tidyverse</code></a> packages. It
is also the default setting in the <a href="https://github.com/r-lib/lintr/blob/master/README.md" class="external-link"><code>lintr</code></a>
package which we use to do the <a href="https://en.wikipedia.org/wiki/Static_program_analysis" class="external-link">static code
analysis</a>.</p>
<p>At first this seems a lot to memorise. RStudio makes things easier
when you activate all diagnostic options (<em>Tools</em> &gt; <em>Global
options</em> &gt; <em>Code</em> &gt; <em>Diagnostics</em>). This
highlights several problems by showing a squiggly line and/or a warning
icon at the line number. Instead of learning all the rules by heart, run
<code><a href="../reference/check_lintr.html">check_lintr()</a></code> regularly and fix any issues that come up. Do
this when working on every single project. Doing so enforces you to
consistently use the same coding style, making it easy to learn and use
it.</p>
<div class="section level3">
<h3 id="rules-for-coding-style">Rules for coding style<a class="anchor" aria-label="anchor" href="#rules-for-coding-style"></a>
</h3>
<ul>
<li>
<code>underscore_separated</code> names for functions, parameters
and variables.</li>
<li>A line of code or comments must be no longer than 80 characters. Pro
tip: have RStudio display this margin in the editor. <em>Tools</em> &gt;
<em>Global options</em> &gt; <em>Code</em> &gt; <em>Display</em> &gt;
<em>Show margin</em>
</li>
<li>Object names must not be longer than 30 characters.</li>
<li>Start a new line
<ul>
<li>after the pipe (<code>%&gt;%</code>)</li>
<li>never before but always after <code>{</code>
</li>
<li>before <code>}</code>
</li>
</ul>
</li>
<li>Use spaces instead of tabs. Pro tip: make RStudio place 2 spaces
when you hit the tab key. <em>Tools</em> &gt; <em>Global options</em>
&gt; <em>Code</em> &gt; <em>Editing</em> &gt; <em>Insert spaces for
tabs</em>
</li>
<li>Use spaces consistently
<ul>
<li>Use exactly one space before and after
<ul>
<li>assignments <code>&lt;-</code>, <code>-&gt;</code>,
<code>=</code>
</li>
<li>operators like <code>+</code>, <code>-</code>,<code>*</code>,
<code>/</code>, …</li>
</ul>
</li>
<li>No space before and one space after <code>,</code>
</li>
<li>No space after or before <code>(</code> or <code>[</code>
<ul>
<li>except in constructs like <code>if ()</code>, <code>for ()</code>,
<code>while ()</code>
</li>
</ul>
</li>
<li>One space between <code>)</code> and <code>{</code>,
e.g. <code>function () {</code>
</li>
</ul>
</li>
<li>Use double quotes (<code>"</code>) to define character strings.</li>
<li>No trailing whitespace
<ul>
<li>spaces at the end of a line</li>
<li>blank lines at the end of the script</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="static-code-analysis-checks">Static code analysis checks<a class="anchor" aria-label="anchor" href="#static-code-analysis-checks"></a>
</h3>
<ul>
<li>Is an object defined before you use it?</li>
<li>Do you use an object after you defined it?</li>
<li>Use <code>&lt;-</code> or <code>-&gt;</code> to assign something.
Only use <code>=</code> to pass arguments to a function
(e.g. <code>check_package(fail = TRUE)</code>).</li>
<li>Use <code>is.na(x)</code> instead of <code>x == NA</code>.</li>
<li>Use <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len()</a></code> or <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along()</a></code> instead of
<code>1:length(x)</code>, <code>1:nrow(x)</code>, … Advantage: when
<code>length(x) == 0</code>, <code>1:length(x)</code> yields
<code>c(1, 0)</code>, whereas <code>seq_along(x)</code> would yield an
empty vector.</li>
<li>Don’t store code in comments. If you don’t want to lose code, use
version control systems like <a href="https://git-scm.com/" class="external-link"><code>git</code></a>. If it is code that you
need to run only under special circumstances, then either put the code
in a separate script and run is manually or write an if-else were you
run the code automatically when needed.</li>
<li>Avoid code with lots of nested loop or if statements. If the code is
too complex, you’ll get a warning that the <a href="https://en.wikipedia.org/wiki/Cyclomatic_complexity" class="external-link">cyclomatic
complexity</a> is too high. Tips for reducing the code complexity:
<ul>
<li>Use <code><a href="https://rdrr.io/pkg/assertthat/man/assert_that.html" class="external-link">assertthat::assert_that()</a></code> to validate object or
conditions instead of <code>if() stop()</code>.</li>
<li>See if you can use <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse()</a></code> instead of
<code>if()</code>.</li>
<li>Split the main function of your code over sub functions.</li>
<li>Don’t use else if not strictly necessary.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="file-name-conventions">File name conventions<a class="anchor" aria-label="anchor" href="#file-name-conventions"></a>
</h2>
<p>To make this easier to remember we choose the same name conventions
for file names as for objects. We acknowledge that these rules sometimes
clash with requirements from other sources
(e.g. <code>DESCRIPTION</code> in an R package, <code>README.md</code>
on GitHub, <code>.gitignore</code> for git, …). In such case we allow
the file names as required by R, git or GitHub. When
<code><a href="../reference/check_filename.html">check_filename()</a></code> does unfairly not allow a certain file or
folder name, then please open an <a href="https://github.com/inbo/checklist/issues" class="external-link">issue on GitHub</a> and
motivate why this should be allowed.</p>
<div class="section level3">
<h3 id="rules-for-folder-names">Rules for folder names<a class="anchor" aria-label="anchor" href="#rules-for-folder-names"></a>
</h3>
<ul>
<li>Folder names should only contain lower case letters, numbers and
underscore (<code>_</code>).</li>
<li>They can start with a single dot (<code>.</code>).</li>
</ul>
</div>
<div class="section level3">
<h3 id="rules-for-file-names">Rules for file names<a class="anchor" aria-label="anchor" href="#rules-for-file-names"></a>
</h3>
<ul>
<li>Base names should only contain lower case letters, numbers and
underscore (<code>_</code>).</li>
<li>File extensions should only contains lower case letters and numbers.
Exceptions: file extensions related to R must have an upper case R
(<code>.R</code>, <code>.Rmd</code>, <code>.Rd</code>,
<code>.Rnw</code>, <code>.Rproj</code>).</li>
</ul>
</div>
<div class="section level3">
<h3 id="rules-for-graphical-file-names">Rules for graphical file names<a class="anchor" aria-label="anchor" href="#rules-for-graphical-file-names"></a>
</h3>
<ul>
<li>Applies to files with extensions <code>csl</code>, <code>eps</code>,
<code>jpg</code>, <code>jpeg</code>, <code>pdf</code>, <code>png</code>
and <code>ps</code>.</li>
<li>Same rules except that you need to use a dash (<code>-</code>) as
separator instead of an underscore (<code>_</code>). We need this
exception because underscores cause problems in certain situations.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="bundling-your-code-in-a-package">Bundling your code in a package<a class="anchor" aria-label="anchor" href="#bundling-your-code-in-a-package"></a>
</h2>
<p>Most users think of an R package as a collection of generic functions
that they can use to run their analysis. However, an R package is a
useful way to bundle and document a stand-alone analysis too! Suppose
you want to pass your code to a collaborator or your future self who is
working on a different computer. If you have a project folder with a
bunch of files, people will need to get to know your project structure,
find out what scripts to run and which dependencies they need. Unless
you documented everything well they (including your future self!) will
have a hard time figuring out how things work.</p>
<p>Having the analysis as a package <em>and</em> running
<code><a href="../reference/check_package.html">check_package()</a></code> to ensure a minimal quality standard, makes
things a lot easier for the user. Agreed, it will take a bit more time
to create the analysis, especially with the first few projects. In the
long run you save time due to a better quality of your code. Try to
start by packaging a recurrent analysis or standardised report when you
want to learn writing a package. Once you have some experience, it is
little overhead to do it for smaller analysis. Keep in mind that you
seldom run an analysis <em>exactly</em> once.</p>
<div class="section level3">
<h3 id="benefits">Benefits<a class="anchor" aria-label="anchor" href="#benefits"></a>
</h3>
<ul>
<li>The package itself is a way to cite (a specific version of) the
analysis in a report or paper.</li>
<li>You have to list all dependencies on other R packages. This makes
installing your code as simple as running
<code>remotes::install_github("inbo/packagename")</code>.</li>
<li>You must split your analysis in a set of functions. Say goodbye to
scripts with thousands lines of code.</li>
<li>Functions make it easy to re-use code. Need to run the same thing
with a different parameter value? Add the parameter as an argument to
the function and run the function once for every different parameter
value. This avoids the need to copy-paste large chunks of scripts and
replace a few values. The copy-paste work flow typically results in
hard-to-read long scripts. Imagine you made a mistake in the code and
copy-pasted that mistake several times before you found it. You have to
check your entire project to fix the mistake several times. Having it as
a function reduces the workload to fixing only the function.</li>
<li>Packages require that every object is either defined within the
package or imported from another package. Global variables are not
allowed. The user only needs to load your package and run the function
with the required arguments. The results will not depend on any other
packages loaded nor by user-defined objects like vectors or dataframes
(unless the user passes them explicitly as arguments to a
function).</li>
<li>A package gives the opportunity to add documentation to your code.
Afterwards you can simply consult this documentation rather than having
to dig into your code to find out what it is actually doing. Every
function needs at least a title and an entry for every argument.</li>
<li>Most likely you would still need a short script that combines a few
high level functions of your package to run the analysis. The
<code>inst</code> folder is an ideal place to bundle such scripts within
the package. You can also use it to store small (!) datasets or
rmarkdown reports.</li>
</ul>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Baath2012" class="csl-entry">
Bååth, Rasmus. 2012. <span>“The State of Naming Conventions in
R.”</span> <em>The R Journal</em> 4 (December): 74–75. <a href="https://doi.org/10.32614/RJ-2012-018" class="external-link">https://doi.org/10.32614/RJ-2012-018</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.muscardinus.be" class="external-link">Thierry Onkelinx</a>, <a href="https://www.vlaanderen.be/inbo/en-gb" class="external-link"><img src="https://inbo.github.io/checklist/reference/figures/logo-en.png" height="24" alt="logo of the Research Institute for Nature and Forest (INBO)"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
